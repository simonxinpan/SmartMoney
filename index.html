<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èªæ˜é’± (SmartMoney) - å…ˆè¡Œç‰ˆ</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f7f6; margin: 0; padding: 20px; color: #333; }
        .container { max-width: 1200px; margin: 0 auto; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .brand-area { display: flex; align-items: center; gap: 10px; }
        .brand-logo { width: 32px; height: 32px; background-color: #1abc9c; color: white; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 20px; }
        .brand-text .cn-name { font-size: 1.8em; font-weight: bold; color: #1abc9c; display: block; line-height: 1; }
        .brand-text .en-name { font-size: 1.1em; color: #7f8c8d; display: block; }
        .main-title { text-align: center; margin-bottom: 30px; }
        .main-title h1 { font-size: 2.2em; font-weight: 700; color: #2c3e50; margin: 0; }
        .main-layout { display: flex; gap: 20px; align-items: flex-start; }
        .main-content { flex: 3; }
        .sidebar { flex: 1; min-width: 280px; position: sticky; top: 20px; }
        @media (max-width: 992px) { .main-layout { flex-direction: column; } .sidebar { width: 100%; min-width: unset; position: static; } }
        .card { background-color: #fff; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .feature-nav h2 { margin-top: 0; color: #16a085; font-size: 1.5em; text-align: center; margin-bottom: 20px; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; }
        .feature-item { background-color: #e8f6f3; padding: 15px; border-radius: 8px; cursor: pointer; transition: transform 0.2s; text-decoration: none; color: inherit; text-align: center; }
        .feature-item:hover { transform: translateY(-5px); }
        .feature-item .icon { font-size: 2.5em; }
        .feature-item .title { font-weight: bold; margin-top: 5px; }
        .filter-section { background-color: #fff; border-radius: 8px; padding: 15px; margin-top: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .feed-header { display: flex; align-items: center; justify-content: space-between; border-bottom: 2px solid #e0e0e0; margin-bottom: 20px; }
        .feed-header h2 { font-size: 1.5em; color: #34495e; margin: 0; padding-bottom: 10px; }
        .filter-toolbar { display: flex; flex-wrap: wrap; align-items: center; gap: 15px; }
        .filter-toolbar .search-input { flex-grow: 1; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 1em; min-width: 200px; }
        .filter-toolbar .btn-group { display: flex; }
        .filter-toolbar .btn { padding: 10px 15px; border: 1px solid #ccc; background-color: #fff; cursor: pointer; font-size: 0.9em; }
        .filter-toolbar .btn:first-child { border-radius: 5px 0 0 5px; }
        .filter-toolbar .btn:last-child { border-radius: 0 5px 5px 0; border-left: none; }
        .filter-toolbar .btn.active { background-color: #1abc9c; color: #fff; border-color: #1abc9c; }
        .filter-toolbar .time-select { padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 0.9em; background-color: #fff;}
        .lockers-wrapper { display: flex; align-items: center; gap: 8px; margin-top: 15px; flex-wrap: wrap; border-top: 1px dashed #e0e0e0; padding-top: 15px; }
        .lockers-wrapper .locker-label { font-size: 0.9em; font-weight: 500; color: #7f8c8d; }
        .locker { display: flex; align-items: center; gap: 5px; padding: 5px 10px; background-color: #e8f6f3; border-radius: 15px; font-size: 0.9em; color: #16a085; cursor: pointer; border: 1px solid #d0ece7;}
        .locker svg { width: 14px; height: 14px; fill: #16a085; }
        .locker.pro { background-color: #fef9e7; color: #f39c12; border-color: #fdebd0; }
        .locker.pro svg { fill: #f39c12; }
        .feed-card { background-color: #fff; border-radius: 8px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); display: flex; align-items: center; gap: 15px; }
        .feed-card .logo { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; flex-shrink: 0; }
        .feed-card .content { flex-grow: 1; }
        .feed-card .title { font-weight: bold; margin: 0 0 5px 0; }
        .feed-card .description { margin: 0; }
        .feed-card .tag { padding: 3px 8px; border-radius: 12px; font-size: 0.8em; color: #fff; }
        .tag-buy { background-color: #2ecc71; } .tag-sell { background-color: #e74c3c; } .tag-insider { background-color: #3498db; } .tag-analyst { background-color: #9b59b6; } .tag-new { background-color: #f39c12; }
        .meta { color: #95a5a6; font-size: 0.9em; }
        .clickable { cursor: pointer; text-decoration: none; color: #16a085; font-weight: 500;}
        .clickable:hover { text-decoration: underline; }
        .clickable-tag { cursor: pointer; transition: opacity 0.2s; } .clickable-tag:hover { opacity: 0.8; }
        .sidebar .card h3 { margin-top: 0; margin-bottom: 15px; font-size: 1.2em; color: #34495e; border-bottom: 1px solid #eee; padding-bottom: 10px; }
        .category-list { list-style-type: none; padding: 0; margin: 0; }
        .category-list li { margin-bottom: 10px; }
        .category-list a { text-decoration: none; color: #2c3e50; display: block; padding: 8px; border-radius: 5px; transition: background-color 0.2s; }
        .category-list a:hover { background-color: #f0f3f4; }
        .category-list .more-link { font-weight: 500; color: #3498db; }
        .email-capture { background-color: #e8f6f3; border: 1px solid #d0ece7; padding: 20px; border-radius: 8px; text-align: center; margin-top: 20px;}
        .email-capture h4 { margin-top: 0; color: #16a085; }
        .email-form { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .email-input { padding: 10px; font-size: 1em; border-radius: 5px; border: 1px solid #ccc; width: 60%; min-width: 200px;}
        .submit-btn { padding: 10px 20px; font-size: 1em; color: #fff; background-color: #1abc9c; border: none; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <header class="page-header">
            <div class="brand-area">
                <div class="brand-logo">$</div>
                <div class="brand-text">
                    <span class="cn-name">èªæ˜é’±</span>
                    <span class="en-name">SmartMoney</span>
                </div>
            </div>
        </header>

        <header class="main-title">
            <h1>ä¸€é”®é”å®šé¡¶çº§æŠ•èµ„æœºæ„æœ€æ–°ä¹°å–ï¼ŒæŒæ¡å¸‚åœºå…ˆæœº</h1>
        </header>

        <div class="main-layout">
            <div class="main-content">
                <div class="feature-nav card">
                    <h2>æƒ³æŠ„è°çš„ä½œä¸šï¼Ÿ</h2>
                    <div class="feature-grid">
                        <a href="#" class="feature-item">
                            <div class="icon">ğŸ¦</div>
                            <div class="title">é¡¶çº§æœºæ„æŒä»“</div>
                        </a>
                        <a href="#" class="feature-item">
                            <div class="icon">ğŸ‘¨â€ğŸ’¼</div>
                            <div class="title">å†…éƒ¨äººäº¤æ˜“</div>
                        </a>
                        <a href="#" class="feature-item">
                            <div class="icon">ğŸ“ˆ</div>
                            <div class="title">åå°”è¡—åˆ†æå¸ˆ</div>
                        </a>
                    </div>
                </div>

                <div class="filter-section">
                    <div class="feed-header">
                        <h2>å®æ—¶åŠ¨æ€</h2>
                    </div>
                    <div class="filter-toolbar">
                        <input type="text" class="search-input" placeholder="å¯æœç´¢å…¬å¸(ä¸­/è‹±)åç§°æˆ–è‚¡ç¥¨ä»£ç ">
                        <div class="btn-group">
                            <button class="btn active">å…¨éƒ¨</button>
                            <button class="btn">ä¹°å…¥/å¢æŒ</button>
                            <button class="btn">å–å‡º/å‡æŒ</button>
                        </div>
                        <div>
                            <select class="time-select">
                                <option>æœ€è¿‘7å¤©</option>
                                <option>æœ€è¿‘30å¤©</option>
                                <option>æœ€è¿‘90å¤©</option>
                            </select>
                        </div>
                    </div>
                    <div class="lockers-wrapper">
                        <span class="locker-label">é”å®šå™¨:</span>
                        <div class="locker" onclick="alert('é”å®šï¼šåªçœ‹[æœ¨å¤´å§]çš„ä¹°å…¥åŠ¨æ€')">
                            <svg viewBox="0 0 24 24"><path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-8c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v3H9V7c0-1.654 1.346-3 3-3z"></path></svg>
                            <span>åªçœ‹æœ¨å¤´å§</span>
                        </div>
                        <div class="locker" onclick="alert('é”å®šï¼šåªçœ‹[CEOæˆ–CFO]çš„ä¹°å…¥åŠ¨æ€')">
                           <svg viewBox="0 0 24 24"><path d="M12 2C9.243 2 7 4.243 7 7v3H6c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-8c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v3H9V7c0-1.654 1.346-3 3-3z"></path></svg>
                            <span>åªçœ‹é«˜ç®¡ä¹°å…¥</span>
                        </div>
                        <div class="locker pro" onclick="alert('å‡çº§ä¸ºProä¼šå‘˜ï¼Œå³å¯åˆ›å»ºå’Œä¿å­˜æ— é™ä¸ªè‡ªå®šä¹‰é”å®šå™¨ï¼')">
                            <svg viewBox="0 0 24 24"><path d="M12,2C6.486,2,2,6.486,2,12s4.486,10,10,10s10-4.486,10-10S17.514,2,12,2z M13,17h-2v-2h2V17z M13,13h-2V7h2V13z"></path></svg>
                            <span>å‡çº§Proè§£é”</span>
                        </div>
                    </div>
                </div>
                
                <div id="feed-container">
                    <!-- åˆå§‹é™æ€å¡ç‰‡ï¼Œå°†è¢«JSåŠ¨æ€å†…å®¹æ›¿æ¢ -->
                    <div class="feed-card">
                        <div class="logo" style="background-color:#eee; display:flex; align-items:center; justify-content:center;">...</div>
                        <div class="content">
                            <p>æ­£åœ¨åŠ è½½çœŸå®æ•°æ®...</p>
                        </div>
                    </div>
                </div>

            </div>

            <aside class="sidebar">
                <div class="card">
                    <h3>çƒ­é—¨æœºæ„</h3>
                    <ul class="category-list">
                        <li><a href="#">æ¡¥æ°´åŸºé‡‘</a></li>
                        <li><a href="#">æ–‡è‰ºå¤å…´ç§‘æŠ€</a></li>
                        <li><a href="#">æ–¹èˆŸåŸºé‡‘ (ARK)</a></li>
                        <li><a href="#">é«˜ç“´èµ„æœ¬</a></li>
                        <li><a href="#" class="more-link">æ›´å¤šæœºæ„...</a></li>
                    </ul>
                </div>
                <div class="card">
                    <h3>çƒ­é—¨è‚¡ç¥¨</h3>
                    <ul class="category-list">
                        <li><a href="#">è‹±ä¼Ÿè¾¾ (NVDA)</a></li>
                        <li><a href="#">ç‰¹æ–¯æ‹‰ (TSLA)</a></li>
                        <li><a href="#">è‹¹æœ (AAPL)</a></li>
                        <li><a href="#" class="more-link">æ›´å¤šè‚¡ç¥¨...</a></li>
                    </ul>
                </div>
                <div class="card">
                    <h3>äº¤æ˜“ç±»å‹</h3>
                    <ul class="category-list">
                        <li><a href="#">ğŸŸ¢ ä¹°å…¥/å¢æŒ</a></li>
                        <li><a href="#">ğŸ”´ å–å‡º/å‡æŒ</a></li>
                        <li><a href="#">ğŸŸ  æ–°å»ºä»“</a></li>
                    </ul>
                </div>
                <!-- é‚®ç®±è®¢é˜…æ¨¡å— -->
                <div class="card email-capture">
                    <h4>å–œæ¬¢è¿™ä¸ªå·¥å…·ï¼Ÿ</h4>
                    <p>å®Œæ•´ç‰ˆå³å°†ä¸Šçº¿ï¼ç•™ä¸‹é‚®ç®±ï¼Œç¬¬ä¸€æ—¶é—´è·å–ä¸Šçº¿é€šçŸ¥å’Œæ—©æœŸç”¨æˆ·ä¸“å±ç¦åˆ©ã€‚</p>
                    <form class="email-form" onsubmit="alert('æ„Ÿè°¢è®¢é˜…ï¼æˆ‘ä»¬å·²æ”¶åˆ°æ‚¨çš„é‚®ç®±ï¼Œä¸Šçº¿åä¼šç¬¬ä¸€æ—¶é—´é€šçŸ¥æ‚¨ï¼'); return false;">
                        <input type="email" class="email-input" placeholder="è¯·è¾“å…¥æ‚¨çš„ç”µå­é‚®ç®±" required>
                        <button type="submit" class="submit-btn">ç«‹å³è®¢é˜…</button>
                    </form>
                </div>
            </aside>
        </div>
    </div>

    <script>
        const apiKey = 'ZYpXufkAUGUmzHLH5F4WeFFhStiaL7xu'; // æ›¿æ¢ä¸ºæ‚¨è‡ªå·±çš„FMP API Key
        
        function fetchSmartMoneyData() {
            const cik = '0001061981'; // æ¡¥æ°´åŸºé‡‘çš„CIK
            const url = `https://financialmodelingprep.com/api/v3/form-13f?cik=${cik}&apikey=${apiKey}`;
            const feedContainer = document.getElementById('feed-container');

            console.log('æ­£åœ¨ä»FMPè·å–çœŸå®æ•°æ®...');

            fetch(url)
                .then(response => {
                    if (!response.ok) { throw new Error(`ç½‘ç»œå“åº”é”™è¯¯: ${response.statusText}`); }
                    return response.json();
                })
.then(data => {
    console.log('æˆåŠŸè·å–åˆ°æ•°æ®ï¼', data);
    alert('æˆåŠŸä»FMPè·å–åˆ°æ•°æ®ï¼ç°åœ¨å°†ä¸ºæ‚¨æ¸²æŸ“åˆ°é¡µé¢ä¸Š...');

    const feedContainer = document.getElementById('feed-container');
    feedContainer.innerHTML = ''; // æ¸…ç©ºâ€œæ­£åœ¨åŠ è½½â€çš„æç¤º

    if (data && data.length > 0) {
        // æˆ‘ä»¬åªæ¸²æŸ“APIè¿”å›çš„å‰10æ¡æ•°æ®ä½œä¸ºç¤ºä¾‹
        data.slice(0, 10).forEach(item => {
            // å°†APIè¿”å›çš„åŸå§‹æ•°æ®ï¼Œè½¬æ¢ä¸ºæˆ‘ä»¬å¡ç‰‡éœ€è¦çš„æ•°æ®æ ¼å¼
            const cardData = {
                firmName: 'æ¡¥æ°´åŸºé‡‘', // 13F APIä¸ç›´æ¥è¿”å›åŸºé‡‘åï¼Œæˆ‘ä»¬å…ˆç”¨é™æ€çš„
                action: 'æŒä»“', // è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„åŠ¨ä½œï¼Œæœªæ¥å¯ä»¥æ ¹æ®å˜åŒ–é‡åˆ¤æ–­æ˜¯å¢æŒè¿˜æ˜¯å‡æŒ
                stockName: item.nameOfIssuer,
                stockTicker: item.cusip, // FMPä½¿ç”¨CUSIPä½œä¸ºID, æœªæ¥éœ€è¦è½¬æ¢ä¸ºTicker
                shares: `æŒæœ‰ ${item.shares.toLocaleString()} 
            console.log(data);
                    
                    feedContainer.innerHTML = ''; // æ¸…ç©ºåŠ è½½çŠ¶æ€
                    if (data && data.length > 0) {
                        // æš‚æ—¶åªæ¸²æŸ“APIè¿”å›çš„å‰5æ¡æ•°æ®ä½œä¸ºç¤ºä¾‹
                        data.slice(0, 5).forEach(item => {
                            const cardData = {
                                firmName: 'æ¡¥æ°´åŸºé‡‘', // 13F APIä¸ç›´æ¥è¿”å›åŸºé‡‘åï¼Œæˆ‘ä»¬å…ˆç”¨é™æ€çš„
                                action: 'æŒä»“',
                                stockName: item.nameOfIssuer,
                                stockTicker: item.cusip, // FMPå¯èƒ½ç”¨CUSIP, çœŸå®åœºæ™¯éœ€è¦è½¬æ¢
                                shares: `æŒæœ‰ ${item.shares.toLocaleString()} è‚¡`,
                                source: '13Fæ–‡ä»¶',
                                date: item.date,
                                type: 'buy', // æš‚æ—¶éƒ½è®¾ä¸ºbuy
                                logoText: 'B'
                            };
                            feedContainer.innerHTML += createCardHTML(cardData);
                        });
                    } else {
                        feedContainer.innerHTML = '<div class="feed-card"><p>æœªèƒ½ä»APIè·å–åˆ°æœ‰æ•ˆæ•°æ®ã€‚</p></div>';
                    }
                })
                .catch(error => {
                    console.error('è·å–çœŸå®æ•°æ®æ—¶å‘ç”Ÿä¸¥é‡é”™è¯¯:', error);
                    feedContainer.innerHTML = `<div class="feed-card"><p style="color:red;">æ•°æ®åŠ è½½å¤±è´¥ï¼é”™è¯¯ä¿¡æ¯: ${error.message}ã€‚è¯·æ£€æŸ¥API Keyæˆ–ç½‘ç»œè¿æ¥ã€‚</p></div>`;
                });
        }

        function createCardHTML(item) {
            return `
                <div class="feed-card">
                    <img src="https://via.placeholder.com/50/6c757d/ffffff?text=${item.logoText}" alt="${item.firmName}" class="logo">
                    <div class="content">
                        <p class="title">
                            <a href="#" class="clickable">${item.firmName}</a> 
                            <span class="tag tag-${item.type} clickable-tag">${item.action}</span>
                        </p>
                        <p class="description">
                            ${item.shares} 
                            <a href="#" class="clickable"><strong>${item.stockName} (${item.stockTicker})</strong></a>
                        </p>
                        <p class="meta">æ•°æ®æ¥æº: ${item.source} | æ—¥æœŸ: ${item.date}</p>
                    </div>
                </div>
            `;
        }

        document.addEventListener('DOMContentLoaded', fetchSmartMoneyData);
    </script>
</body>
</html>
